/** 
 * Miniswiper
 * @link https://github.com/miniswiper/miniswiper
 * @version 1.0.0
 * @copyright (c) 2018-present Miniswiper contributors All Rights Reserved. 
 */
function Miniswiper(e,t){var i=new Object,n=null,a=null,o=null,l=null,s=0,r=0,c=null,d=!1,u=1,m=1,p=0,f=!1,h=3e3,v=300,g=[0,0];i.direction="horizontal",i.itemCount=0,i.previousIndex=null,i.activeIndex=0,i.effect="slide",i.circular=!1,i.bindchange=null;var y,x,C=("MozAppearance"in(x=document.documentElement.style)?y="gecko":"WebkitAppearance"in x?y="webkit":"string"==typeof navigator.cpuClass?y="trident":navigator.userAgent.indexOf("Opera")>-1&&(y="presto"),{trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[y]);function b(e,t,i,n){t=t||0,i=i||0,n=n||1;var a=document.createElement("div"),o=C+"Perspective",l=C+"Transform";void 0!==a.style[o]?e.style[l]="translate3d("+t+"px,"+i+"px,0) scale("+n+")":e.style[l]="translate("+t+"px,"+i+"px) scale("+n+")"}function T(e,t){if(e.classList)e.classList.add(t);else{var i=e.getAttribute("class");e.setAttribute("class",i.replace(t,"")+" "+t)}}function I(e,t){var i=null;if("number"==typeof e)i=e;else if("string"==typeof e)if(isNaN(e)){if(/^\d+(\.\d+)?px$/.test(e))i=parseFloat(e.replace("px",""));else if(/^\d+(\.\d+)?\%$/.test(e)){i=parseFloat(e.replace("%",""))/100*t}}else i=parseFloat(e);return i}function w(e,t){var i=new Image;i.src=e.getAttribute("data-src"),complete=function(){e.src=i.src,"function"==typeof t&&t()},i.complte&&complete(),i.onload=complete}function E(){var e,t,a=n.getElementsByClassName("indicator-item-active")[0],o=n.getElementsByClassName("indicator-item")[i.activeIndex];if(f&&"circle"===c){var l=a.getElementsByTagName("path")[1],s=o.getElementsByTagName("path")[1];l.style[C+"Transition"]="stroke-dashoffset 0ms",s.style[C+"Transition"]="stroke-dashoffset "+h+"ms"}t="indicator-item-active",(e=a).classList?e.classList.remove(t):e.setAttribute("class",e.getAttribute("class").replace(t,"")),T(o,"indicator-item-active")}function N(){g[0]=setTimeout(function(){var e=i.activeIndex<i.itemCount-1?i.activeIndex+1:0;i.slideTo(e)},h)}return function(e,t){n=document.getElementById(e),i.context=n,a=n.getElementsByClassName("miniswiper-content")[0];var y=n.getElementsByClassName("miniswiper-content")[0],x=n.getElementsByClassName("miniswiper-slide");i.itemCount=x.length,t&&(t.direction&&"vertical"==t.direction&&(i.direction="vertical"),t.effect&&"fade"==t.effect&&(i.effect="fade"),t.circular&&(i.circular=t.circular),t.indicator&&(c=t.indicator),t.bindchange&&"function"==typeof t.bindchange&&(i.bindchange=t.bindchange),t.autoplay&&("boolean"==typeof t.autoplay&&(i.autoplay={interval:h,duration:v},f=t.autoplay),"object"==typeof t.autoplay&&(t.autoplay.interval&&(h=t.autoplay.interval),t.autoplay.duration&&(v=t.autoplay.duration),i.autoplay={interval:h,duration:v},f=!0)),t.special&&t.special.maxScale&&t.special.maxScale<1&&(d=!0,m=t.special.maxScale,u=t.special.minScale&&t.special.minScale<t.special.maxScale?t.special.minScale:m)),T(n,i.direction);for(var A,B,k,z,L,M=n.getElementsByTagName("img"),S=0;S<M.length;S+=1)M[S].getAttribute("data-src")&&w(M[S]);o=t&&t.width&&I(t.width,document.body.clientWidth)||n.offsetWidth,n.style.width=o+"px",i.width=o;for(S=0;S<x.length;S+=1)x[S].style.width=o+"px",d&&"vertical"==i.direction&&(x[S].style.paddingLeft=(1-m)*o/2+"px",x[S].style.paddingRight=(1-m)*o/2+"px");if(t&&t.height&&(l=I(t.height,document.body.clientHeight)),l?(n.style.height=l+"px",i.height=l):function(){for(var e=0,t=x[0].getElementsByTagName("img"),o=function(){if((e+=1)==t.length){if(l=x[0].offsetHeight,d){l/=m;for(var o=0;o<x.length;o+=1)"horizontal"==i.direction?(x[o].style.height=l+"px",x[o].style.paddingTop=(1-m)*l/2+"px",x[o].style.paddingBottom=(1-m)*l/2+"px"):(x[o].style.height=l*m+"px",i.circular&&i.itemCount>1&&2==o||!i.circular&&0==o?b(x[o],0,0,1):b(x[o],0,0,u/m));"vertical"==i.direction&&b(a,0,p=l*(1-m)/2)}else for(o=0;o<x.length;o+=1)x[o].style.height=l+"px";i.height=l,n.style.height=l+"px"}"slide"==i.effect&&"vertical"==i.direction&&(s=l*m,i.circular&&i.itemCount>1&&(b(a,0,-2*s+p),r=2))},c=0;c<t.length;c+=1)t[c].getAttribute("data-src")?w(t[c],o):t[0].complete?o():t[c].onload=o}(),"slide"==i.effect){if(i.circular&&i.itemCount>1&&(a.insertBefore(x[x.length-1].cloneNode(!0),x[0]),a.insertBefore(x[x.length-2].cloneNode(!0),x[0]),a.appendChild(x[2].cloneNode(!0)),a.appendChild(x[3].cloneNode(!0))),"horizontal"==i.direction){if(s=o,d){T(n,"special"),s=o*m;for(S=0;S<x.length;S+=1)x[S].style.width=s+"px",l&&(x[S].style.height=l*m+"px",x[S].style.paddingTop=(1-m)*l/2+"px",x[S].style.paddingBottom=(1-m)*l/2+"px"),i.circular&&i.itemCount>1&&2==S||!i.circular&&0==S?b(x[S],0,0,1):b(x[S],0,0,u/m);p=o*(1-m)/2}i.circular&&1!=i.itemCount?(y.style.width=o*(x.length+4)+100+"px",b(a,-2*s+p),r=2):(y.style.width=o*x.length+100+"px",b(a,p))}else if(l){if(s=l*m,p=l*(1-m)/2,d){T(n,"special");for(S=0;S<x.length;S+=1)x[S].style.height=l*m+"px",i.circular&&i.itemCount>1&&2==S||!i.circular&&0==S?b(x[S],0,0,1):b(x[S],0,0,u/m)}else for(var S=0;S<x.length;S+=1)x[S].style.height=l+"px";i.circular&&i.itemCount>1&&(b(a,0,-2*s+p),r=2)}}else T(n,i.effect),x[0].style.opacity=1;k=n.getElementsByClassName("miniswiper-slide"),z=function(e,t){var n=e-A,c=t-B,f=r;if("slide"==i.effect){if("horizontal"==i.direction?(i.circular&&i.itemCount>1&&(1===f&&n>0&&(f=i.itemCount+1),f===i.itemCount&&n<0&&(f=0)),b(a,-f*s+n+p)):(i.circular&&i.itemCount>1&&(1===f&&c>0&&(f=i.itemCount+1),f===i.itemCount&&c<0&&(f=0)),b(a,0,-f*s+c+p)),d){var h,v=u/m,g="horizontal"==i.direction?(1-v)/(o*m):(1-v)/(l*m),y=v+g*Math.abs(n),x=1-g*Math.abs(n);h="horizontal"==i.direction?n<0?f+1:f-1:c<0?f+1:f-1,y>1&&(y=1),x<v&&(x=v),h&&h!=f&&(k[f].style[C+"Transition"]="transform 0ms",b(k[f],0,0,x),h>-1&&h<k.length&&(k[h].style[C+"Transition"]="transform 0ms",b(k[h],0,0,y)))}}else if(i.itemCount>1&&(("horizontal"==i.direction&&n<0||"vertical"==i.direction&&c<0)&&(f<i.itemCount-1?f+=1:i.circular&&(f=0)),("horizontal"==i.direction&&n>0||"vertical"==i.direction&&c>0)&&(f>0?f-=1:i.circular&&(f=i.itemCount-1)),r!=f)){var T="horizontal"==i.direction?Math.abs(n)/o:Math.abs(c)/l;k[r].style.opacity=1-T,k[f].style.opacity=T}},L=function(e,t){if(A&&B){var n=e-A,o=t-B;if("slide"==i.effect){if("horizontal"==i.direction){if(i.previousIndex=i.activeIndex,i.circular&&1!=i.itemCount){var l=r;n>0&&(r=1===l?i.itemCount:l-1),n<0&&(r=l===i.itemCount?1:l+1),i.activeIndex=r>1?r-2:i.itemCount-1}else n>0&&r>0&&(r-=1),n<0&&r<i.itemCount-1&&(r+=1),i.activeIndex=r;a.style[C+"Transition"]="all "+v+"ms",b(a,-r*s+p)}else{if(i.previousIndex=i.activeIndex,i.circular&&1!=i.itemCount){var l=r;o>0&&(r=1===l?i.itemCount:l-1),o<0&&(r=l===i.itemCount?1:l+1),i.activeIndex=r>1?r-2:i.itemCount-1}else o>0&&r>0&&(r-=1),o<0&&r<i.itemCount-1&&(r+=1),i.activeIndex=r;a.style[C+"Transition"]="all "+v+"ms",b(a,0,-r*s+p)}if(d){for(var h=0;h<k.length;h+=1)h!=r&&(k[h].style[C+"Transition"]="transform "+v+"ms",b(k[h],0,0,u/m));k[r].style[C+"Transition"]="transform "+v+"ms",b(k[r],0,0,1)}}else if(i.itemCount>1){var g=r;("horizontal"==i.direction&&n<0||"vertical"==i.direction&&o<0)&&(r<i.itemCount-1?r+=1:i.circular&&(r=0)),("horizontal"==i.direction&&n>0||"vertical"==i.direction&&o>0)&&(r>0?r-=1:i.circular&&(r=i.itemCount-1)),r!=g&&(k[g].style[C+"Transition"]="all "+v+"ms",k[g].style.opacity=0,k[r].style[C+"Transition"]="all "+v+"ms",k[r].style.opacity=1,i.activeIndex=r)}c&&E(),i.bindchange&&i.bindchange(i.activeIndex),f&&N(),A=null,B=null}},/AppleWebKit.*Mobile.*/.test(navigator.userAgent)?(n.addEventListener("touchstart",function(e){clearTimeout(g[0]),clearTimeout(g[1]),"slide"==i.effect?a.style[C+"Transition"]="all 0ms":k[i.activeIndex].style[C+"Transition"]="opacity 0ms",A=e.touches[0].clientX,B=e.touches[0].clientY}),n.addEventListener("touchmove",function(e){e.preventDefault(),z(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}),n.addEventListener("touchend",function(e){L(e.changedTouches[0].clientX,e.changedTouches[0].clientY)})):n.onmousedown=function(e){e.preventDefault(),e.stopPropagation(),clearTimeout(g[0]),clearTimeout(g[1]),"slide"==i.effect?a.style[C+"Transition"]="all 0ms":k[i.activeIndex].style[C+"Transition"]="opacity 0ms",A=e.clientX,B=e.clientY;var t=function(e){e.preventDefault(),e.stopPropagation()};/WebKit/i.test(navigator.userAgent)&&document.addEventListener("mousedown",t,!1),document.onmousemove=function(e){if(z(e.clientX,e.clientY),(Math.abs(e.clientX-A)>1||Math.abs(e.clientY-B)>1)&&!n.getElementsByClassName("mask").length){var t=document.createElement("div");t.className="mask",n.appendChild(t)}return!1},document.onmouseup=function(e){if(document.onmousemove=null,L(e.clientX,e.clientY),n.getElementsByClassName("mask").length){var i=n.getElementsByClassName("mask")[0];i.parentNode.removeChild(i)}/WebKit/i.test(navigator.userAgent)&&document.removeEventListener("mousedown",t,!1)}},f&&N(),c&&function(){var e=document.createElement("div");if(e.className="miniswiper-indicator",f&&"circle"==c)for(var t=0;t<i.itemCount;t+=1){var a,o=document.createElement("span"),l=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=document.createElementNS("http://www.w3.org/2000/svg","path");o.className="indicator-item indicator-circle",o.setAttribute("data-index",t),l.setAttribute("viewBox","0 0 100 100"),s.setAttribute("d","M 50,50 m 0,-45 a 45,45 0 1 1 0,90 a 45,45 0 1 1 0,-90"),s.setAttribute("stroke-width","14"),s.setAttribute("fill-opacity","0"),(a=s.cloneNode(!0)).setAttribute("stroke","#fff"),s.setAttribute("stroke","rgba(255,255,255,0.3)"),l.appendChild(s),l.appendChild(a),o.appendChild(l),e.appendChild(o),0===t&&(a.style[C+"Transition"]="stroke-dashoffset "+h+"ms",T(o,"indicator-item-active")),o.addEventListener("click",function(e){i.slideTo(parseInt(this.getAttribute("data-index")))})}else for(var t=0;t<i.itemCount;t+=1){var r=document.createElement("span");r.className=0!=t?"indicator-item indicator-dot":"indicator-item indicator-dot indicator-item-active",r.setAttribute("data-index",t),e.appendChild(r),r.addEventListener("click",function(e){i.slideTo(parseInt(this.getAttribute("data-index")))})}n.appendChild(e)}()}(e,t),i.slideTo=function(e){var t=n.getElementsByClassName("miniswiper-slide");i.previousIndex=i.activeIndex,clearTimeout(g[0]),clearTimeout(g[1]),"slide"==i.effect&&(i.circular?(0==e?i.activeIndex==i.itemCount-1&&(a.style[C+"Transition"]="all 0ms",b(a,-1*s+p)):e==i.itemCount-1&&0==i.activeIndex&&(a.style[C+"Transition"]="all 0ms",b(a,-(i.itemCount+2)*s+p)),r=e+2,g[1]=setTimeout(function(){if(a.style[C+"Transition"]="all "+v+"ms","horizontal"==i.direction?b(a,-r*s+p):b(a,0,-r*s+p),d){for(var e=0;e<t.length;e+=1)t[e].style[C+"Transition"]="transform "+v+"ms",e!=r&&b(t[e],0,0,u/m);t[r].style[C+"Transition"]="transform "+v+"ms",b(t[r],0,0,1)}},25),i.activeIndex=e):(i.activeIndex=r=e,a.style[C+"Transition"]="all "+v+"ms","horizontal"==i.direction?b(a,-r*s+p):b(a,0,-r*s+p))),"fade"==i.effect&&(i.activeIndex=r=e,t[i.previousIndex].style[C+"Transition"]="all "+v+"ms",t[i.previousIndex].style.opacity=0,t[i.activeIndex].style[C+"Transition"]="all "+v+"ms",t[i.activeIndex].style.opacity=1),c&&E(),i.bindchange&&i.bindchange(i.activeIndex),f&&N()},i}